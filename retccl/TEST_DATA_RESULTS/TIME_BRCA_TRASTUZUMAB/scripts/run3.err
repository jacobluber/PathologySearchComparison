  0%|          | 0/17 [00:00<?, ?it/s]  6%|▌         | 1/17 [01:40<26:48, 100.56s/it] 12%|█▏        | 2/17 [03:21<25:14, 100.99s/it] 18%|█▊        | 3/17 [05:01<23:27, 100.54s/it] 24%|██▎       | 4/17 [06:29<20:39, 95.32s/it]  29%|██▉       | 5/17 [08:08<19:19, 96.66s/it] 35%|███▌      | 6/17 [10:00<18:42, 102.02s/it] 41%|████      | 7/17 [11:41<16:57, 101.74s/it] 47%|████▋     | 8/17 [13:25<15:19, 102.21s/it] 53%|█████▎    | 9/17 [15:07<13:38, 102.28s/it] 59%|█████▉    | 10/17 [16:53<12:03, 103.34s/it] 65%|██████▍   | 11/17 [18:32<10:11, 101.96s/it] 71%|███████   | 12/17 [20:15<08:32, 102.44s/it] 76%|███████▋  | 13/17 [22:05<06:58, 104.71s/it] 82%|████████▏ | 14/17 [23:53<05:17, 105.70s/it] 88%|████████▊ | 15/17 [25:34<03:28, 104.19s/it] 94%|█████████▍| 16/17 [27:14<01:43, 103.12s/it]100%|██████████| 17/17 [28:07<00:00, 88.01s/it] 100%|██████████| 17/17 [28:07<00:00, 99.27s/it]
/home/mxn2498/projects/new_search_comp/retccl/extract_features.py:83: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed,key->block1_values] [items->Index(['file_id', 'file_name', 'slide_path', 'features'], dtype='object')]

  patch_dataframe.to_hdf(join(save_dir, "features.h5"), key="df", mode="w")
  0%|          | 0/85 [00:00<?, ?it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:64: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaics = pd.concat([mosaics, mosaic], ignore_index=True)
  1%|          | 1/85 [00:00<00:25,  3.27it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  2%|▏         | 2/85 [00:00<00:28,  2.91it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  5%|▍         | 4/85 [00:00<00:17,  4.76it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  6%|▌         | 5/85 [00:01<00:15,  5.01it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  7%|▋         | 6/85 [00:01<00:15,  5.14it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  8%|▊         | 7/85 [00:01<00:13,  5.73it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 11%|█         | 9/85 [00:01<00:14,  5.26it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 12%|█▏        | 10/85 [00:02<00:16,  4.48it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 13%|█▎        | 11/85 [00:02<00:14,  5.05it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 14%|█▍        | 12/85 [00:02<00:15,  4.84it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 15%|█▌        | 13/85 [00:02<00:13,  5.17it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 16%|█▋        | 14/85 [00:02<00:13,  5.32it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 19%|█▉        | 16/85 [00:03<00:13,  5.09it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 20%|██        | 17/85 [00:03<00:13,  5.09it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 21%|██        | 18/85 [00:03<00:12,  5.36it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 22%|██▏       | 19/85 [00:03<00:11,  5.81it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 24%|██▎       | 20/85 [00:04<00:26,  2.49it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 25%|██▍       | 21/85 [00:04<00:20,  3.15it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 26%|██▌       | 22/85 [00:05<00:19,  3.21it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 27%|██▋       | 23/85 [00:05<00:17,  3.54it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 28%|██▊       | 24/85 [00:05<00:15,  3.89it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 29%|██▉       | 25/85 [00:05<00:12,  4.62it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 32%|███▏      | 27/85 [00:06<00:16,  3.42it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 33%|███▎      | 28/85 [00:06<00:15,  3.58it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 34%|███▍      | 29/85 [00:07<00:16,  3.33it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 35%|███▌      | 30/85 [00:07<00:14,  3.68it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 36%|███▋      | 31/85 [00:07<00:16,  3.23it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 38%|███▊      | 32/85 [00:07<00:14,  3.78it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 39%|███▉      | 33/85 [00:08<00:13,  3.97it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 40%|████      | 34/85 [00:08<00:11,  4.30it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 41%|████      | 35/85 [00:08<00:10,  4.72it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 44%|████▎     | 37/85 [00:08<00:08,  5.77it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 45%|████▍     | 38/85 [00:08<00:08,  5.55it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 47%|████▋     | 40/85 [00:09<00:07,  6.37it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 48%|████▊     | 41/85 [00:09<00:08,  5.15it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 49%|████▉     | 42/85 [00:09<00:10,  4.25it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 51%|█████     | 43/85 [00:10<00:10,  3.93it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 52%|█████▏    | 44/85 [00:10<00:09,  4.23it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 53%|█████▎    | 45/85 [00:10<00:09,  4.37it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 54%|█████▍    | 46/85 [00:10<00:08,  4.34it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 55%|█████▌    | 47/85 [00:11<00:09,  3.89it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 56%|█████▋    | 48/85 [00:11<00:09,  3.91it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 58%|█████▊    | 49/85 [00:11<00:08,  4.03it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 59%|█████▉    | 50/85 [00:11<00:08,  4.05it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 60%|██████    | 51/85 [00:11<00:07,  4.52it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 61%|██████    | 52/85 [00:12<00:06,  4.73it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 62%|██████▏   | 53/85 [00:12<00:07,  4.22it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 64%|██████▎   | 54/85 [00:12<00:06,  4.62it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 65%|██████▍   | 55/85 [00:12<00:07,  4.04it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 66%|██████▌   | 56/85 [00:13<00:06,  4.41it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 67%|██████▋   | 57/85 [00:13<00:05,  5.09it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 68%|██████▊   | 58/85 [00:13<00:06,  4.38it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 69%|██████▉   | 59/85 [00:13<00:04,  5.23it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 71%|███████   | 60/85 [00:13<00:04,  5.14it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 72%|███████▏  | 61/85 [00:13<00:04,  5.08it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 73%|███████▎  | 62/85 [00:14<00:04,  5.22it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 74%|███████▍  | 63/85 [00:14<00:03,  5.74it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 75%|███████▌  | 64/85 [00:14<00:03,  6.00it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 76%|███████▋  | 65/85 [00:14<00:03,  5.81it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 78%|███████▊  | 66/85 [00:14<00:03,  6.27it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 79%|███████▉  | 67/85 [00:14<00:02,  6.86it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 80%|████████  | 68/85 [00:15<00:02,  6.59it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 81%|████████  | 69/85 [00:15<00:02,  5.69it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 82%|████████▏ | 70/85 [00:15<00:02,  6.02it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 84%|████████▎ | 71/85 [00:15<00:02,  6.02it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 85%|████████▍ | 72/85 [00:16<00:03,  4.09it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 86%|████████▌ | 73/85 [00:16<00:03,  3.97it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 87%|████████▋ | 74/85 [00:16<00:02,  3.95it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 88%|████████▊ | 75/85 [00:16<00:02,  4.71it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 91%|█████████ | 77/85 [00:16<00:01,  5.33it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 92%|█████████▏| 78/85 [00:17<00:01,  4.62it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 93%|█████████▎| 79/85 [00:17<00:01,  4.74it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 94%|█████████▍| 80/85 [00:17<00:01,  4.33it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 95%|█████████▌| 81/85 [00:18<00:01,  3.94it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 96%|█████████▋| 82/85 [00:18<00:00,  4.42it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 98%|█████████▊| 83/85 [00:18<00:00,  4.69it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 99%|█████████▉| 84/85 [00:18<00:00,  5.07it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
100%|██████████| 85/85 [00:18<00:00,  4.10it/s]100%|██████████| 85/85 [00:18<00:00,  4.49it/s]
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:66: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed-integer,key->block1_values] [items->Index(['file_id', 'slide_path', 'patch_level', 'patch_size', 'coord1',
       'coord2', 'features'],
      dtype='object')]

  mosaics.to_hdf(join(save_dir, "mosaics.h5"), key="df", mode="w")
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:67: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed,key->block2_values] [items->Index(['file_id', 'slide_path', 'features'], dtype='object')]

  features_df.to_hdf(join(save_dir, "features_with_cluster.h5"), key="df", mode="w")
