  0%|          | 0/17 [00:00<?, ?it/s]  6%|▌         | 1/17 [01:41<26:59, 101.21s/it] 12%|█▏        | 2/17 [03:22<25:18, 101.22s/it] 18%|█▊        | 3/17 [05:01<23:24, 100.32s/it] 24%|██▎       | 4/17 [06:28<20:37, 95.16s/it]  29%|██▉       | 5/17 [08:07<19:17, 96.48s/it] 35%|███▌      | 6/17 [10:00<18:40, 101.90s/it] 41%|████      | 7/17 [11:41<16:57, 101.73s/it] 47%|████▋     | 8/17 [13:24<15:20, 102.23s/it] 53%|█████▎    | 9/17 [15:07<13:38, 102.27s/it] 59%|█████▉    | 10/17 [16:53<12:03, 103.38s/it] 65%|██████▍   | 11/17 [18:31<10:11, 101.89s/it] 71%|███████   | 12/17 [20:15<08:32, 102.44s/it] 76%|███████▋  | 13/17 [22:05<06:58, 104.73s/it] 82%|████████▏ | 14/17 [23:52<05:16, 105.61s/it] 88%|████████▊ | 15/17 [25:33<03:28, 104.07s/it] 94%|█████████▍| 16/17 [27:14<01:43, 103.13s/it]100%|██████████| 17/17 [28:07<00:00, 88.00s/it] 100%|██████████| 17/17 [28:07<00:00, 99.25s/it]
/home/mxn2498/projects/new_search_comp/retccl/extract_features.py:83: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed,key->block1_values] [items->Index(['file_id', 'file_name', 'slide_path', 'features'], dtype='object')]

  patch_dataframe.to_hdf(join(save_dir, "features.h5"), key="df", mode="w")
  0%|          | 0/85 [00:00<?, ?it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:64: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaics = pd.concat([mosaics, mosaic], ignore_index=True)
  1%|          | 1/85 [00:00<00:25,  3.25it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  2%|▏         | 2/85 [00:00<00:28,  2.90it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  5%|▍         | 4/85 [00:00<00:17,  4.76it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  6%|▌         | 5/85 [00:01<00:15,  5.01it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  7%|▋         | 6/85 [00:01<00:15,  5.15it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
  8%|▊         | 7/85 [00:01<00:13,  5.73it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 11%|█         | 9/85 [00:01<00:14,  5.27it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 12%|█▏        | 10/85 [00:02<00:16,  4.50it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 13%|█▎        | 11/85 [00:02<00:14,  5.06it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 14%|█▍        | 12/85 [00:02<00:15,  4.85it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 15%|█▌        | 13/85 [00:02<00:13,  5.18it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 16%|█▋        | 14/85 [00:02<00:13,  5.33it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 19%|█▉        | 16/85 [00:03<00:13,  5.10it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 20%|██        | 17/85 [00:03<00:13,  5.10it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 21%|██        | 18/85 [00:03<00:12,  5.36it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 22%|██▏       | 19/85 [00:03<00:11,  5.82it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 24%|██▎       | 20/85 [00:04<00:25,  2.51it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 25%|██▍       | 21/85 [00:04<00:20,  3.17it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 26%|██▌       | 22/85 [00:05<00:19,  3.23it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 27%|██▋       | 23/85 [00:05<00:17,  3.55it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 28%|██▊       | 24/85 [00:05<00:15,  3.91it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 29%|██▉       | 25/85 [00:05<00:12,  4.65it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 32%|███▏      | 27/85 [00:06<00:16,  3.45it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 33%|███▎      | 28/85 [00:06<00:15,  3.61it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 34%|███▍      | 29/85 [00:07<00:16,  3.35it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 35%|███▌      | 30/85 [00:07<00:14,  3.69it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 36%|███▋      | 31/85 [00:07<00:16,  3.25it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 38%|███▊      | 32/85 [00:07<00:13,  3.79it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 39%|███▉      | 33/85 [00:07<00:13,  3.97it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 40%|████      | 34/85 [00:08<00:11,  4.30it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 41%|████      | 35/85 [00:08<00:10,  4.72it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 44%|████▎     | 37/85 [00:08<00:08,  5.77it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 45%|████▍     | 38/85 [00:08<00:08,  5.66it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 47%|████▋     | 40/85 [00:09<00:06,  6.44it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 48%|████▊     | 41/85 [00:09<00:08,  5.19it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 49%|████▉     | 42/85 [00:09<00:10,  4.29it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 51%|█████     | 43/85 [00:10<00:10,  3.97it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 52%|█████▏    | 44/85 [00:10<00:09,  4.15it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 53%|█████▎    | 45/85 [00:10<00:11,  3.50it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 54%|█████▍    | 46/85 [00:10<00:10,  3.66it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 55%|█████▌    | 47/85 [00:11<00:10,  3.49it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 56%|█████▋    | 48/85 [00:11<00:10,  3.67it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 58%|█████▊    | 49/85 [00:11<00:09,  3.85it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 59%|█████▉    | 50/85 [00:11<00:08,  3.93it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 60%|██████    | 51/85 [00:12<00:07,  4.41it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 61%|██████    | 52/85 [00:12<00:07,  4.67it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 62%|██████▏   | 53/85 [00:12<00:07,  4.18it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 64%|██████▎   | 54/85 [00:12<00:06,  4.60it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 65%|██████▍   | 55/85 [00:13<00:07,  4.03it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 66%|██████▌   | 56/85 [00:13<00:06,  4.41it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 67%|██████▋   | 57/85 [00:13<00:05,  5.09it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 68%|██████▊   | 58/85 [00:13<00:06,  4.40it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 69%|██████▉   | 59/85 [00:13<00:04,  5.25it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 71%|███████   | 60/85 [00:13<00:04,  5.12it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 72%|███████▏  | 61/85 [00:14<00:04,  5.07it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 73%|███████▎  | 62/85 [00:14<00:04,  5.21it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 74%|███████▍  | 63/85 [00:14<00:03,  5.72it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 75%|███████▌  | 64/85 [00:14<00:03,  5.98it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 76%|███████▋  | 65/85 [00:14<00:03,  5.80it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 78%|███████▊  | 66/85 [00:14<00:03,  6.26it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 79%|███████▉  | 67/85 [00:15<00:02,  6.85it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 80%|████████  | 68/85 [00:15<00:02,  6.55it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 81%|████████  | 69/85 [00:15<00:02,  5.71it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 82%|████████▏ | 70/85 [00:15<00:02,  6.05it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 84%|████████▎ | 71/85 [00:15<00:02,  6.04it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 85%|████████▍ | 72/85 [00:16<00:03,  4.10it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 86%|████████▌ | 73/85 [00:16<00:03,  3.98it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 87%|████████▋ | 74/85 [00:16<00:02,  3.98it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 88%|████████▊ | 75/85 [00:16<00:02,  4.71it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 91%|█████████ | 77/85 [00:17<00:01,  5.31it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 92%|█████████▏| 78/85 [00:17<00:01,  4.61it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 93%|█████████▎| 79/85 [00:17<00:01,  4.74it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 94%|█████████▍| 80/85 [00:17<00:01,  4.37it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 95%|█████████▌| 81/85 [00:18<00:01,  3.97it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 96%|█████████▋| 82/85 [00:18<00:00,  4.45it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 98%|█████████▊| 83/85 [00:18<00:00,  4.69it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
 99%|█████████▉| 84/85 [00:18<00:00,  5.08it/s]/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:55: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  mosaic = pd.concat([mosaic, cluster_patches.iloc[sidx:sidx+1]], ignore_index=True)
100%|██████████| 85/85 [00:19<00:00,  4.11it/s]100%|██████████| 85/85 [00:19<00:00,  4.46it/s]
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:66: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed-integer,key->block1_values] [items->Index(['file_id', 'slide_path', 'patch_level', 'patch_size', 'coord1',
       'coord2', 'features'],
      dtype='object')]

  mosaics.to_hdf(join(save_dir, "mosaics.h5"), key="df", mode="w")
/home/mxn2498/projects/new_search_comp/retccl/generate_mosaics.py:67: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type->mixed,key->block2_values] [items->Index(['file_id', 'slide_path', 'features'], dtype='object')]

  features_df.to_hdf(join(save_dir, "features_with_cluster.h5"), key="df", mode="w")
